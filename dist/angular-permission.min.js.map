{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$permission","defaultOnAuthorizedMethod","defaultOnUnauthorizedMethod","suppressUndefinedPermissionWarning","this","setDefaultOnAuthorizedMethod","onAuthorizedMethod","setDefaultOnUnauthorizedMethod","onUnauthorizedMethod","value","$get","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","resolve","reason","reject","PermTransitionEvents","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","params","isUndefined","validationLocals","transitionProperties","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","onAuthorizedMethodName","onUnauthorizedAccess","onUnauthorizedMethodName","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeOnlyAndExceptProperty","normalizeOnlyAndParamsProperty","redirectTo","normalizeRedirectToProperty","resolveRedirectState","redirectFunction","rejectedPermissionName","redirectState","state","property","call","isInjectable","normalizeFunctionRedirectionRule","isObjectSingleRedirectionRule","normalizeObjectSingleRedirectionRule","normalizeObjectMultipleRedirectionRule","normalizeStringRedirectionRule","ReferenceError","redirectionMap","redirection","privilegeName","role","warn","module","exports","name","provider","decorator","enableElement","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}